<div class="justify-between	 m-16 mx-28 flex justify-between h-full">
    <div class="w-2/3  h-full">
        <a class="flex flex-row items-center bg-white  rounded-lg shadow md:flex-row hover:bg-gray-100 ">
            <img *ngIf="worker.image" class="object-cover w-36 rounded-lg h-36 mx-2 md:rounded-none md:rounded-lg"
                src="data:image/jpeg;base64,{{worker.image.picByte}}" alt="">
            <div class="flex flex-col justify-between leading-normal">
                <h5 class="mb-14 text-2xl font-bold tracking-tight text-gray-900 dark:text-black">{{worker.name}}</h5>
                <p class="mb-2 font-normal text-gray-700 dark:text-gray-900"><span
                        class="text-blue-700 font-bold text-lg">
                        ${{worker.daily_price}}</span>/day </p>
                <div class="flex items-center">
                    <svg aria-hidden="true" class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"
                        xmlns="http://www.w3.org/2000/svg">
                        <title>Rating star</title>
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                        </path>
                    </svg>
                    <p class="ml-2 text-sm font-bold text-gray-900 ">{{getWorkerService().calculateReview(reviews)}}</p>
                    <span class="w-1 h-1 mx-1.5 bg-gray-500 rounded-full dark:bg-gray-400"></span>
                    <a routerLink="#reviews"
                        class="text-sm font-medium text-gray-900 underline hover:no-underline ">{{reviews.length}}
                        reviews</a>
                </div>
            </div>



        </a>
        <div class="mt-4 mx-2">
            <p class="text-lg font-bold my-2 text-blue-600">Expertise</p>
            <div class="text-gray-700 w-1/2">
                {{worker.expertise}}
            </div>
        </div>
        <p class="mt-6 mx-2">
            write Review
        </p>
        <div class="mt-6 mx-2 flex justify-between ">
            <label for="">Comment : </label>
            <textarea name="" id="" cols="30" rows="2" class="border-2 border-gray-400"
                [(ngModel)]="comment"></textarea>
            <div>
                <i [ngClass]="{'fa-sharp fa-solid fa-star hover:text-yellow-400 cursor-pointer':true , 'text-yellow-400':rating>=1 }"
                    (click)="rating=1"></i>
                <i [ngClass]="{'fa-sharp fa-solid fa-star hover:text-yellow-400 cursor-pointer':true , 'text-yellow-400':rating>=2}"
                    (click)="rating=2"></i>
                <i [ngClass]="{'fa-sharp fa-solid fa-star hover:text-yellow-400 cursor-pointer':true , 'text-yellow-400':rating>=3}"
                    (click)="rating=3"></i>
                <i [ngClass]="{'fa-sharp fa-solid fa-star hover:text-yellow-400 cursor-pointer':true, 'text-yellow-400':rating>=4 }"
                    (click)="rating=4"></i>
                <i [ngClass]="{'fa-sharp fa-solid fa-star hover:text-yellow-400 cursor-pointer':true , 'text-yellow-400':rating==5}"
                    (click)="rating=5"></i>
            </div>
            <button type="submit" (click)="onSubmit()"
                class="text-white bg-yellow-400 hover:bg-yellow-500 focus:outline-none focus:ring-4 focus:ring-yellow-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:focus:ring-yellow-900">Send</button>


        </div>
        <div class="mt-28 mx-2" id="reviews">
            <p class="text-lg font-bold my-2 text-blue-600 ">reviews</p>

            <article *ngFor="let r of reviews">
                <div class="flex items-center mb-4 space-x-4">
                    <img class="w-10 h-10 rounded-full" src="data:image/jpeg;base64,{{r.customer.image.picByte}}"
                        alt="">
                    <div class="space-y-1 font-medium text-blue-600">
                        <p>{{r.customer.name}} </p>
                    </div>
                </div>
                <div class="flex items-center mb-1">
                    <svg aria-hidden="true" *ngFor="let s of [1,2,3,4,5]"
                        [ngClass]="{'w-5 h-5 text-gray-400 ':true ,'text-yellow-400':s<=r.rating}" fill="currentColor"
                        viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                        </path>
                    </svg>
                    <h3 class="ml-2 text-sm font-semibold text-gray-900 ">
                        {{r.comment}}

                    </h3>
                </div>
                <footer class="mb-5 text-sm text-gray-500 dark:text-gray-400">
                    <p>Reviewed in the <span class="text-blue-600 font-bold">{{r.customer.location}}</span>
                    </p>
                </footer>
                <p class="mb-2 text-gray-500 dark:text-gray-400">
                    {{r.comment}}
                </p>
            </article>

        </div>
    </div>
    <div class="w-1/4 ">
        <p class="font-bold">Contact Info : </p>
        <p class="font-semibold">Email : {{worker.email}}</p>
        <p class="font-semibold">Phone : {{worker.phoneNumber}}</p>

        <button type="button" (click)="openModal()"
            class="text-white mt-4 bg-[#050708] hover:bg-[#050708]/90 focus:ring-4 focus:outline-none focus:ring-[#050708]/50 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#050708]/50 dark:hover:bg-[#050708]/30 mr-2 mb-2">

            Request an appointment
        </button>
    </div>
</div>

<div *ngIf="modalIsOpen"
    class="bg-blue-300 py-12 transition duration-150 ease-in-out z-10 absolute top-0 right-0 left-0 " id="modal">
    <div role="alert" class="container mx-auto w-11/12 md:w-2/3 max-w-lg">
        <form [formGroup]="appointmentForm" (ngSubmit)="onSubmit2()"
            class="relative py-8 px-5 md:px-10 bg-white shadow-md rounded border border-gray-400">
            <div class="w-full flex justify-start text-gray-600 mb-3">
                <i class="fa-sharp fa-solid fa-paper-plane"></i>
            </div>
            <h1 class="text-gray-800 font-lg font-bold tracking-normal leading-tight mb-4">Enter appointment Details
            </h1>
            <label for="email2" class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Price per day
            </label>
            <div class="relative mb-5 mt-2">

                <input id="email2" type="number"
                    class="text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-4 text-sm border-gray-300 rounded border"
                    placeholder="$150" formControlName="pricebyday" />
            </div>
            <label for="expiry" class="text-gray-800 text-sm font-bold leading-tight tracking-normal">
                Date</label>
            <div class="relative mb-5 mt-2">

                <input id="Date" formControlName="appointmentDate"
                    class="text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"
                    placeholder="MM/YY" type="date" />
            </div>
            <label for="cvc" class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Number of
                Days</label>
            <div class="relative mb-5 mt-2">

                <input formControlName="nbdays"
                    class="mb-8 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"
                    placeholder="10 days" type="number" />
            </div>
            <label for="cvc" class="text-gray-800 text-sm font-bold leading-tight tracking-normal">Description of
                Work</label>
            <div class="relative mb-5 mt-2">
                <textarea formControlName="description"
                    class="mb-8 text-gray-600 focus:outline-none focus:border focus:border-indigo-700 font-normal w-full h-10 flex items-center pl-3 text-sm border-gray-300 rounded border"
                    placeholder="description
                    "></textarea>
            </div>
            <div class="flex items-center justify-start w-full">
                <button type="submit"
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-700 transition duration-150 ease-in-out hover:bg-indigo-600 bg-indigo-700 rounded text-white px-8 py-2 text-sm">Send
                    Request</button>
                <button
                    class="focus:outline-none focus:ring-2 focus:ring-offset-2  focus:ring-gray-400 ml-3 bg-gray-100 transition duration-150 text-gray-600 ease-in-out hover:border-gray-400 hover:bg-gray-300 border rounded px-8 py-2 text-sm"
                    (click)="closeModal()">Cancel</button>
            </div>
            <button
                class="cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out rounded focus:ring-2 focus:outline-none focus:ring-gray-600"
                (click)="closeModal()" aria-label="close modal" role="button">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="20" height="20"
                    viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor" fill="none" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <line x1="18" y1="6" x2="6" y2="18" />
                    <line x1="6" y1="6" x2="18" y2="18" />
                </svg>
            </button>
        </form>
    </div>
</div>